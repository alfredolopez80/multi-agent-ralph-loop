{
  "version": "2.82.0",
  "permissions": {
    "defaultMode": "delegate",
    "allow": {
      "edit": true,
      "bash": true,
      "write": true,
      "read": true
    }
  },
  "hooks": {
    "UserPromptSubmit": [
      {
        "matcher": "*",
        "hooks": [
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/command-router.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/context-warning.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/memory-write-trigger.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/prompt-analyzer.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/statusline-health-monitor.sh" }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Task",
        "hooks": [
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/smart-memory-search.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/agent-memory-auto-init.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/procedural-inject.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/orchestrator-auto-learn.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/fast-path-check.sh" }
        ]
      },
      {
        "matcher": "Edit|Write",
        "hooks": [
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/lsa-pre-step.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/checkpoint-smart-save.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/inject-session-context.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/ralph-context-injector.sh" }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/pre-commit-command-validation.sh" }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/plan-sync-post-step.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/decision-extractor.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/semantic-realtime-extractor.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/status-auto-check.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/sec-context-validate.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/quality-gates-v2.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/checkpoint-auto-save.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/ralph-quality-gates.sh" }
        ]
      },
      {
        "matcher": "Task",
        "hooks": [
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/parallel-explore.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/recursive-decompose.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/plan-analysis-cleanup.sh" }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/post-commit-command-verify.sh" }
        ]
      },
      {
        "matcher": "TodoWrite",
        "hooks": [
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/todo-plan-sync.sh" }
        ]
      }
    ],
    "PreCompact": [
      {
        "matcher": "*",
        "hooks": [
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/pre-compact-handoff.sh" }
        ]
      }
    ],
    "SessionStart": [
      {
        "matcher": "*",
        "hooks": [
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/session-start-ledger.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/session-start-restore-context.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/auto-migrate-plan-state.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/session-start-welcome.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/session-start-tldr.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/skill-pre-warm.sh" }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": "*",
        "hooks": [
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/sentry-report.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/reflection-engine.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/semantic-auto-extractor.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/episodic-auto-convert.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/orchestrator-report.sh" },
          { "type": "command", "command": "$HOME/.ralph/.claude/hooks/stop-verification.sh" }
        ]
      }
    ]
  },
  "env": {
    "CLAUDE_CODE_AGENT_ID": "ralph-primary",
    "CLAUDE_CODE_AGENT_NAME": "RalphWiggum",
    "CLAUDE_CODE_TEAM_NAME": "multi-agent-ralph",
    "CLAUDE_CODE_PLAN_MODE_REQUIRED": "false",
    "CLAUDE_CODE_MAX_AGENT_ITERATIONS": "50",
    "RALPH_VERSION": "2.82.0",
    "RALPH_MODEL_PRIMARY": "glm-4.7",
    "RALPH_MODEL_FALLBACK": "claude-sonnet"
  }
}
